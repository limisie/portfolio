---
import { Image } from "astro:assets";

const {
    url = "/portfolio",
    image,
    title = "Project title",
    description = "Short text describing a project and my roles.",
} = Astro.props;
---

<a class="card" href={url}>
    <div class="wrapper">
        {image ? <Image src={image} alt="" /> : <div class="placeholder" />}
    </div>

    <h4>{title}</h4>
    <p>{description}</p>
</a>

<style>
    .card {
        --flow-space: calc(0.1 * var(--spacer));
        width: 100%;

        p {
            font-size: var(--fs-small);
        }

        &:hover {
            img {
                filter: grayscale(0%);
                opacity: 1;
            }

            .placeholder {
                opacity: 1;
            }
        }
    }

    .wrapper {
        margin-bottom: calc(0.5 * var(--spacer));

        img {
            width: 100%;
            height: auto;
            object-fit: cover;
            aspect-ratio: 3/1;
            opacity: 0.4;

            filter: grayscale(80%);
            transition: all 0.3s ease-in-out;
        }

        .placeholder {
            width: 100%;
            aspect-ratio: 3/1;
            background-color: var(--clr-text);
            mask-image: url("../../assets/placeholder.svg");
            -webkit-mask-image: url("../../assets/placeholder.svg");
            opacity: 0.4;
            transition: opacity 0.3s ease-in-out;
        }
    }

    @media (min-width: 40rem) {
        .wrapper {
            img,
            .placeholder {
                aspect-ratio: 1/1;
            }
        }
    }
</style>
